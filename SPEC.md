# μ „λ ¥κ΄€λ¦¬μ² μ„¤λ¬Έμ΅°μ‚¬ μ‹μ¤ν… λ…μ„Έμ„

## π“‹ ν”„λ΅μ νΈ κ°μ”

### λ©μ 
μ „λ ¥κ΄€λ¦¬μ² μ†μ† 10κ° λ¶€μ„ λ° κ΄€λ¦¬μ² μ „λ°μ— λ€ν• μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹  ν‰κ°€λ¥Ό μ„ν• μ›Ή κΈ°λ° μ„¤λ¬Έμ΅°μ‚¬ μ‹μ¤ν…

### κΈ°μ  μ¤νƒ
- **Frontend**: Next.js 14 (React 18, TypeScript)
- **Backend**: Supabase (PostgreSQL, Auth, RPC)
- **AI**: OpenAI GPT-4 (μΆ…ν•©ν‰κ°€ μƒμ„±)
- **Visualization**: Recharts (λ μ΄λ” μ°¨νΈ), react-wordcloud (ν‚¤μ›λ“λ§µ)
- **Styling**: Tailwind CSS

---

## πΆ μ΅°μ§ κµ¬μ΅°

### λ¶€μ„ λ©λ΅ (10κ°)
1. μ§€μ—­ν‘λ ¥λ¶€
2. κ³„ν†µμ΄μλ¶€
3. μ†΅μ „μ΄μλ¶€
4. λ³€μ „μ΄μλ¶€
5. μ „μμ μ–΄λ¶€
6. ν† κ±΄μ΄μλ¶€
7. κ°•λ¦‰μ „λ ¥
8. λ™ν•΄μ „λ ¥
9. μ›μ£Όμ „λ ¥
10. νƒλ°±μ „λ ¥

### μ§κΈ‰ κµ¬λ¶„
- **μ§μ›**: λ³ΈμΈ μ†μ† μ΅°μ§ + κ΄€λ¦¬μ² μ „λ° ν‰κ°€
- **κ°„λ¶€**: μ§μ› ν‰κ°€ + νƒ€ λ¶€μ„/μ§€μ‚¬ ν‰κ°€ (9κ° λ¶€μ„)

---

## π“ μ„¤λ¬Έ κµ¬μ΅°

### μ„¤λ¬Έ λ¬Έν•­ κµ¬μ„± (μ΄ 53κ° λ¬Έν•­)

#### 1. κΈ°λ³Έ μ •λ³΄ (1κ°)
- Q1: μ†μ† μ„ νƒ (10κ° λ¶€μ„ μ¤‘ μ„ νƒ)

#### 2. λ³ΈμΈ μ†μ† μ΅°μ§ ν‰κ°€ (19κ°, Q2~Q20)
- **μ΅°μ§λ¬Έν™”** (8κ°): Q2~Q9
  - μ‹ λΆ°μ™€ μ΅΄μ¤‘, μμ‚¬κ²°μ • ν¬λ…μ„±, λ¦¬λ” κ²½μ²­, μμ¨μ„±κ³Ό μ±…μ„κ°, ν‘λ ¥κ³Ό μ •λ³΄κ³µμ , μ—…λ¬΄λ¶„λ‹΄, κ³µμ •ν• ν‰κ°€, κΈμ •μ  λ¶„μ„κΈ°

- **μ—…λ¬΄μ¶©μ‹¤** (6κ°): Q10~Q15
  - λ©ν‘μ™€ μ—­ν•  κ³µμ , λ©ν‘ λ‹¬μ„±, ν¨μ¨μ„±κ³Ό μ‹¤ν–‰λ ¥, μ „λ¬Έμ§€μ‹κ³Ό κΈ°μ , λ¬Έμ ν•΄κ²° λ¥λ ¥, μ„±κ³Ό μμ¤€

- **μ—…λ¬΄ν‘μ΅°** (3κ°): Q16~Q18
  - ν‘μ—… λ¥λ ¥, νƒ€ μ΅°μ§ μ΄ν•΄, νƒ€ μ΅°μ§ μ„±κ³Ό νμ•…

- **μ—…λ¬΄νμ‹ ** (2κ°): Q19~Q20
  - κ°μ„  μ μ• κ°λ°©μ„±, νμ‹  ν™λ™

#### 3. νƒ€ λ¶€μ„/μ§€μ‚¬ ν‰κ°€ (κ°„λ¶€λ§, 5κ° λ¬Έν•­ Γ— 9κ° λ¶€μ„)
κ° λ¬Έν•­λ§λ‹¤ 9κ° λ¶€μ„λ¥Ό ν…μ΄λΈ” ν•νƒλ΅ λ™μ‹ ν‰κ°€

- **μ—…λ¬΄μ¶©μ‹¤** (2κ°)
  - μ΅°μ§ λ° κµ¬μ„±μ›μ μ—…λ¬΄μν–‰ μ—­λ‰μ΄ μ°μν•λ‹¤
  - μ¬ ν• ν•΄ μ°μν• μ—…λ¬΄ μ„±κ³Όλ¥Ό λ‹¬μ„±ν•κ³  μλ‹¤

- **μ—…λ¬΄ν‘μ΅°** (2κ°)
  - μ΅°μ§ κ°„ κ°λ“±ν•΄κ²°μ— μ μ—°ν•κ³  μ κ·Ήμ μ΄λ‹¤
  - μ΅°μ§ κ°„ ν‘μ—…μ— μ κ·Ήμ μ΄λ‹¤

- **μ—…λ¬΄νμ‹ ** (1κ°)
  - κµ¬μ„±μ› μ§λ¬΄λ¥λ ¥ κ°λ°, μ—…λ¬΄κ°μ„  λ“± νμ‹ μ—…λ¬΄ μ‹¤μ μ΄ μ°μν•λ‹¤

#### 4. κ΄€λ¦¬μ² μ „λ° ν‰κ°€ (24κ°, Q27~Q50)
- **μ΅°μ§λ¬Έν™”** (9κ°): Q27~Q35
- **μ—…λ¬΄μ¶©μ‹¤** (3κ°): Q36~Q38
- **μ—…λ¬΄ν‘μ΅°** (8κ°): Q39~Q46 (μ„μ ν• 2κ° ν¬ν•¨)
- **μ—…λ¬΄νμ‹ ** (4κ°): Q47~Q50

#### 5. μΆ…ν•© μκ²¬ (4κ°, Q51~Q54, λ¨λ‘ μ„μ ν•)
- ν–¥ν›„ κ΄€λ¦¬μ²κ°€ μ§‘μ¤‘ν•΄μ•Ό ν•  ν•µμ‹¬ λ¶„μ•Ό
- κ΄€λ¦¬μ² λ‚΄ μ—­λ‰ μ°¨μ΄ κ°μ† λ°©μ•
- κ°μ„ μ΄ κ°€μ¥ ν•„μ”ν• λ¶€λ¶„
- κ΄€λ¦¬μ² λ°μ „μ„ μ„ν• μ•„μ΄λ””μ–΄

---

## π—„οΈ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

### 1. users (μ‚¬μ©μ κ³„μ •)
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  username TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  is_admin BOOLEAN DEFAULT false,
  has_completed BOOLEAN DEFAULT false,
  completed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT now()
);
```

### 2. department_scores (λ¶€μ„λ³„ μ μ μ§‘κ³„)
```sql
CREATE TABLE department_scores (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  department TEXT NOT NULL UNIQUE,

  -- λ³ΈμΈ μ†μ† μ΅°μ§ ν‰κ°€ (Q2~Q20: 19κ°)
  q2_sum INTEGER DEFAULT 0,
  q2_count INTEGER DEFAULT 0,
  q3_sum INTEGER DEFAULT 0,
  q3_count INTEGER DEFAULT 0,
  ... (q4~q20)

  -- νƒ€λ¶€μ„ ν‰κ°€ λ°›μ€ μ μ (5κ° λ¬Έν•­)
  other_q1_sum INTEGER DEFAULT 0,
  other_q1_count INTEGER DEFAULT 0,
  other_q2_sum INTEGER DEFAULT 0,
  other_q2_count INTEGER DEFAULT 0,
  other_q3_sum INTEGER DEFAULT 0,
  other_q3_count INTEGER DEFAULT 0,
  other_q4_sum INTEGER DEFAULT 0,
  other_q4_count INTEGER DEFAULT 0,
  other_q5_sum INTEGER DEFAULT 0,
  other_q5_count INTEGER DEFAULT 0,

  updated_at TIMESTAMP DEFAULT now()
);
```

### 3. management_scores (κ΄€λ¦¬μ² μ „λ° μ μ μ§‘κ³„)
```sql
CREATE TABLE management_scores (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),

  -- 5μ μ²™λ„ λ¬Έν•­λ§ (Q27~Q50 μ¤‘ μ„μ ν• μ μ™Έ: 20κ°)
  q27_sum INTEGER DEFAULT 0,
  q27_count INTEGER DEFAULT 0,
  ... (q28~q50, μ„μ ν• μ μ™Έ)

  updated_at TIMESTAMP DEFAULT now()
);
```

### 4. text_responses (μ„μ ν• μ‘λ‹µ)
```sql
CREATE TABLE text_responses (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  question_number INTEGER NOT NULL,
  question_text TEXT NOT NULL,
  response_text TEXT NOT NULL,
  respondent_department TEXT,
  created_at TIMESTAMP DEFAULT now()
);
```

### 5. survey_questions (μ„¤λ¬Έ λ¬Έν•­ λ§μ¤ν„°)
```sql
CREATE TABLE survey_questions (
  question_number INTEGER PRIMARY KEY,
  evaluation_target TEXT NOT NULL,
  evaluation_type TEXT,
  question_text TEXT NOT NULL,
  response_type TEXT NOT NULL,
  for_executives_only BOOLEAN DEFAULT false
);
```

---

## π’΅ ν•µμ‹¬ λ΅μ§

### μ μ κ³„μ‚°

#### ν‰κ·  μ μ
```
ν‰κ·  = sum / count
```

#### ν‰κ°€μ ν•λ³„ μ μ
- **μ΅°μ§λ¬Έν™”**: Q2~Q9 ν‰κ· 
- **μ—…λ¬΄μ¶©μ‹¤**: Q10~Q15 ν‰κ· 
- **μ—…λ¬΄ν‘μ΅°**: Q16~Q18 ν‰κ· 
- **μ—…λ¬΄νμ‹ **: Q19~Q20 ν‰κ· 

#### μµμΆ… μ μ (Weighted Sum)
```
μµμΆ…μ μ = (λ³ΈμΈν‰κ°€ Γ— λ³ΈμΈμ‘λ‹µμ + νƒ€λ¶€μ„ν‰κ°€ Γ— νƒ€λ¶€μ„μ‘λ‹µμ) / μ΄μ‘λ‹µμ
μ°¨μ΄ = μµμΆ…μ μ - λ³ΈμΈν‰κ°€
```

**ν‘μ‹ μμ‹:**
- μ΅°μ§λ¬Έν™”: 4.2μ  (νƒ€λ¶€μ„ ν‰κ°€ μ—†μ)
- μ—…λ¬΄μ¶©μ‹¤: 4.5μ  β†’ μµμΆ… 3.8μ  (νƒ€λ¶€μ„ ν‰κ°€ λ°μ -0.7)
- μ—…λ¬΄ν‘μ΅°: 3.9μ  β†’ μµμΆ… 4.2μ  (νƒ€λ¶€μ„ ν‰κ°€ λ°μ +0.3)

---

## π¨ μ‚¬μ©μ μΈν„°νμ΄μ¤

### 1. λ΅κ·ΈμΈ νμ΄μ§€ (`/login`)
- ID/PW μ…λ ¥
- μΈμ¦ μ„±κ³µ μ‹ `/survey`λ΅ μ΄λ™

### 2. μ„¤λ¬Έ μ§„ν–‰ νμ΄μ§€ (`/survey`)

#### Step 1: λ¶€μ„/μ§κΈ‰ μ„ νƒ
- λ¶€μ„ λ“λ΅­λ‹¤μ΄ (10κ°, μμ„ κ³ μ •)
- μ§κΈ‰ λΌλ””μ¤ λ²„νΌ (κ°„λ¶€/μ§μ›)

#### Step 2: μ„¤λ¬Έ μ‘μ„±
**μ§μ› (48κ° λ¬Έν•­)**
- λ³ΈμΈ μ†μ† μ΅°μ§: 19κ°
- κ΄€λ¦¬μ² μ „λ°: 24κ°
- μΆ…ν•© μκ²¬: 4κ°

**κ°„λ¶€ (53κ° λ¬Έν•­)**
- λ³ΈμΈ μ†μ† μ΅°μ§: 19κ°
- **νƒ€ λ¶€μ„ ν‰κ°€: 5κ° λ¬Έν•­ (ν…μ΄λΈ” UI)**
  ```
  [μ—…λ¬΄μ¶©μ‹¤] μ΅°μ§ λ° κµ¬μ„±μ›μ μ—…λ¬΄μν–‰ μ—­λ‰μ΄ μ°μν•λ‹¤

  λ¶€μ„λ…        | 1μ  | 2μ  | 3μ  | 4μ  | 5μ 
  -------------|-----|-----|-----|-----|-----
  κ³„ν†µμ΄μλ¶€    | β—‹   | β—‹   | β—   | β—‹   | β—‹
  μ†΅μ „μ΄μλ¶€    | β—‹   | β—‹   | β—‹   | β—‹   | β—
  ...
  ```
- κ΄€λ¦¬μ² μ „λ°: 24κ°
- μΆ…ν•© μκ²¬: 4κ°

#### Step 3: μ μ¶ μ™„λ£
- μ™„λ£ λ©”μ‹μ§€ ν‘μ‹
- μ¬μ μ¶ λ¶κ°€

### 3. κ΄€λ¦¬μ λ€μ‹λ³΄λ“ (`/admin`) β… **κµ¬ν„ μ™„λ£**

#### 3.1 μ „μ²΄ ν„ν™© (`/admin/dashboard`) β…
**κµ¬ν„ λ‚΄μ—­**:
- νμ΄μ§€: `app/admin/dashboard/page.tsx`
- API: `/api/admin/stats` (μ „μ²΄/λ¶€μ„λ³„ μ‘λ‹µ ν†µκ³„)
- μ „μ²΄ μ‘λ‹µ ν„ν™© μΉ΄λ“ (μ „μ²΄ λ€μƒ, μ‘λ‹µ μ™„λ£, μ‘λ‹µλ¥ )
- λ¶€μ„λ³„ μ‘λ‹µ ν„ν™© ν…μ΄λΈ” (10κ° λ¶€μ„, μ‘λ‹µλ¥  μƒ‰μƒ ν‘μ‹)
- λ©”λ‰΄ λ§ν¬ (κ΄€λ¦¬μ² μ „λ° λ¶„μ„, μ „μ²΄ μμ„, λ΅κ·Έμ•„μ›ƒ)

**κΈ°μ  μ¤νƒ**:
- Next.js 15 Server Components
- Supabase users ν…μ΄λΈ” μ΅°ν
- username νμ‹±μΌλ΅ λ¶€μ„λ³„ μ‘λ‹µ μ§‘κ³„

#### 3.2 λ¶€μ„λ³„ λ¶„μ„ (`/admin/department/[id]`) β…
**κµ¬ν„ λ‚΄μ—­**:
- νμ΄μ§€: `app/admin/department/[id]/page.tsx`
- μ»΄ν¬λ„νΈ: `DepartmentRadarChart.tsx`, `AIAnalysis.tsx`
- API: `/api/scores/department?department={dept}`
- **λ μ΄λ” μ°¨νΈ**: 4κ° ν‰κ°€μ ν• μ μ μ‹κ°ν™” (Recharts)
  - λ³ΈμΈν‰κ°€ vs νƒ€λ¶€μ„ν‰κ°€ λΉ„κµ
  - μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ 
- **μ μ μƒμ„Έ ν…μ΄λΈ”**:
  | ν‰κ°€μ ν• | λ³ΈμΈν‰κ°€ | νƒ€λ¶€μ„ν‰κ°€ | μµμΆ…μ μ | μ°¨μ΄ | μμ„ |
  |---------|----------|-----------|---------|------|------|
  | μ΅°μ§λ¬Έν™” |  4.1μ  | - | 4.1μ  | - | 2μ„ |
  | μ—…λ¬΄μ¶©μ‹¤ |  4.5μ  | 3.8μ  | 3.8μ  | -0.7 | 1μ„ |
- **AI μΆ…ν•©ν‰κ°€**: GPT-4 κΈ°λ° λ¶„μ„
  - κ°•μ  λ¶„μ•Ό
  - κ°μ„  ν•„μ” λ¶„μ•Ό
  - μμ²΄ν‰κ°€ vs νƒ€λ¶€μ„ν‰κ°€ μ°¨μ΄ λ¶„μ„
  - κµ¬μ²΄μ  κ°μ„  μ μ•

**κΈ°μ μ  νΉμ§•**:
- Next.js 15 async params μ²λ¦¬ (`await params`)
- API μ‘λ‹µ λ³€ν™ κ³„μΈµ (scores β†’ byType)
- react-markdownμΌλ΅ AI λ¶„μ„ λ λ”λ§

#### 3.3 κ΄€λ¦¬μ² λ¶„μ„ (`/admin/management`) β…
**κµ¬ν„ λ‚΄μ—­**:
- νμ΄μ§€: `app/admin/management/page.tsx`
- μ»΄ν¬λ„νΈ: `ManagementRadarChart.tsx`, `TextResponseWordCloud.tsx`, `AIAnalysis.tsx`
- API: `/api/scores/management`
- **λ μ΄λ” μ°¨νΈ**: 5μ μ²™λ„ λ¬Έν•­ ν‰κ·  (Recharts)
  - μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ 
- **ν‰κ°€μ ν•λ³„ ν‰κ·  μ μ ν…μ΄λΈ”**
- **μ„Έλ¶€ λ¬Έν•­λ³„ μ μ ν…μ΄λΈ”**
- **μ„μ ν• μ›λ“ν΄λΌμ°λ“**: ν‚¤μ›λ“ μ‹κ°ν™” (react-wordcloud)
  - 6κ° μ„μ ν• λ¬Έν•­λ³„ μ›λ“ν΄λΌμ°λ“
  - Q40, Q45, Q50, Q51, Q52, Q53
- **AI λ¶„μ„**: 5μ μ²™λ„ λ¬Έν•­ μΆ…ν•©ν‰κ°€

**κΈ°μ μ  νΉμ§•**:
- API μ‘λ‹µ λ³€ν™ (scores β†’ byType, questions, textResponses)
- ν•κΈ€ ν…μ¤νΈ μ²λ¦¬ λ° μ›λ“ν΄λΌμ°λ“ μƒμ„±
- ν‰κ°€μ ν•λ³„ λ¬Έν•­ κ·Έλ£Ήν™”

#### 3.4 μ „μ²΄ μμ„ (`/admin/ranking`) β…
**κµ¬ν„ λ‚΄μ—­**:
- νμ΄μ§€: `app/admin/ranking/page.tsx`
- μ»΄ν¬λ„νΈ: `RankingBarChart.tsx`
- API: `/api/scores/department` (μ „μ²΄ λ¶€μ„)
- **λ¶€μ„λ³„ μΆ…ν•© μμ„ μ°¨νΈ** (Recharts λ°” μ°¨νΈ)
  - 10κ° λ¶€μ„ μμ„ ν‘μ‹
  - ν‰κ·  μ μ ν‘μ‹
- **μΆ…ν•© μμ„ μƒμ„Έ ν…μ΄λΈ”**
  - μμ„ λ±ƒμ§€ (1μ„ κΈ, 2μ„ μ€, 3μ„ λ™)
  - ν‰κ·  μ μ
  - μƒμ„Έ λ¶„μ„ λ§ν¬
- **ν‰κ°€μ ν•λ³„ μμ„ μ°¨νΈ** (4κ°)
  - μ΅°μ§λ¬Έν™” μμ„ μ°¨νΈ
  - μ—…λ¬΄μ¶©μ‹¤ μμ„ μ°¨νΈ
  - μ—…λ¬΄ν‘μ΅° μμ„ μ°¨νΈ
  - μ—…λ¬΄νμ‹  μμ„ μ°¨νΈ
  - κ·Έλ¦¬λ“ λ μ΄μ•„μ›ƒ (2Γ—2)

**κΈ°μ μ  νΉμ§•**:
- μ „μ²΄ λ¶€μ„ μ μ λ°μ΄ν„° λ΅λ“ λ° λ³€ν™
- ν‰κ°€μ ν•λ³„ μμ„ λ°μ΄ν„° μƒμ„±
- μΆ…ν•© μμ„ κ³„μ‚° (4κ° ν‰κ°€μ ν• ν‰κ· )

---

## π” λ³΄μ• λ° κ¶ν•

### μΈμ¦
- Supabase Auth μ‚¬μ©
- λΉ„λ°€λ²νΈ bcrypt ν•΄μ‹±

### κ¶ν• κ΄€λ¦¬
- **μΌλ° μ‚¬μ©μ**: `/survey` μ ‘κ·Ό, 1ν μ μ¶ μ ν•
- **κ΄€λ¦¬μ**: `/admin/*` μ „μ²΄ μ ‘κ·Ό

### Row Level Security (RLS)
```sql
-- κ΄€λ¦¬μλ§ μ§‘κ³„ λ°μ΄ν„° μ΅°ν κ°€λ¥
CREATE POLICY admin_read_scores ON department_scores
  FOR SELECT USING (
    EXISTS (SELECT 1 FROM users WHERE id = auth.uid() AND is_admin = true)
  );
```

---

## π¤– AI λ¶„μ„ κΈ°λ¥

### OpenAI GPT-4 Prompt κµ¬μ΅°

#### λ¶€μ„λ³„ λ¶„μ„
```
[ν‰κ°€μ ν•λ³„ μµμΆ… μ μ]
- μ΅°μ§λ¬Έν™”: 4.1μ  (2μ„) - νƒ€λ¶€μ„ ν‰κ°€ μ—†μ
- μ—…λ¬΄μ¶©μ‹¤: 4.5μ  β†’ 3.8μ  (νƒ€λ¶€μ„ -0.7, 1μ„)
- μ—…λ¬΄ν‘μ΅°: 3.9μ  β†’ 4.2μ  (νƒ€λ¶€μ„ +0.3, 5μ„)
- μ—…λ¬΄νμ‹ : 4.0μ  β†’ 3.7μ  (νƒ€λ¶€μ„ -0.3, 4μ„)

[μ„Έλ¶€ λ¬Έν•­λ³„ μ μ]
Q2. μ‹ λΆ°μ™€ μ΅΄μ¤‘: 4.2μ  (μ „μ²΄ ν‰κ·  3.8, 3μ„)


Q1. νƒ€λ¶€μ„ ν‰κ°€1(μƒμ„Έλ¬Έν•­) : 4.2μ  (μ „μ²΄ ν‰κ·  3.8, 1μ„)
...

λ¶„μ„ μ”μ²­:
1. κ°•μ  λ¶„μ•Ό
2. κ°μ„  ν•„μ” λ¶„μ•Ό
3. μμ²΄ν‰κ°€ vs νƒ€λ¶€μ„ν‰κ°€ μ°¨μ΄ λ¶„μ„
4. κµ¬μ²΄μ  κ°μ„  μ μ•
```

#### κ΄€λ¦¬μ² λ¶„μ„
```
[ν‰κ°€μ ν•λ³„ ν‰κ· ]
- μ΅°μ§λ¬Έν™”: 4.0μ 
- μ—…λ¬΄μ¶©μ‹¤: 3.9μ 
- μ—…λ¬΄ν‘μ΅°: 3.7μ 
- μ—…λ¬΄νμ‹ : 4.2μ 

[μ„Έλ¶€ λ¬Έν•­λ³„ μ μ]
Q27. μμ‚¬κ²°μ • ν¬λ…μ„±: 3.8μ 
...

λ¶„μ„ μ”μ²­:
1. κ΄€λ¦¬μ² κ°•μ 
2. κ°μ„  μμ—­
3. μ°μ„ μμ„λ³„ κ°μ„  μ μ•
```

---

## π“ μ„±λ¥ μµμ ν™”

### λ°μ΄ν„°λ² μ΄μ¤
- μΈλ±μ¤ μƒμ„±: department, evaluation_type
- PostgreSQL ν•¨μλ΅ μ μ μ—…λ°μ΄νΈ μµμ ν™”
- μ§‘κ³„ ν…μ΄λΈ”λ΅ μ‹¤μ‹κ°„ κ³„μ‚° λ¶€ν• κ°μ†

### ν”„λ΅ νΈμ—”λ“
- Next.js App Router (Server Components)
- μ°¨νΈ λ°μ΄ν„° μ„λ²„ μ‚¬μ΄λ“ κ³„μ‚°
- React Suspenseλ΅ λ‹¨κ³„λ³„ λ΅λ”©

---

## π€ λ°°ν¬

### ν™κ²½
- **Frontend**: Vercel
- **Database**: Supabase (νΈμ¤ν…)
- **AI**: OpenAI API

### ν™κ²½ λ³€μ
```env
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
OPENAI_API_KEY=
```

---

## π“ λ°μ΄ν„° νλ¦„

### μ„¤λ¬Έ μ μ¶
```
μ‚¬μ©μ μ…λ ¥
  β†“
λ¶€μ„/μ§κΈ‰ μ„ νƒ
  β†“
μ„¤λ¬Έ μ‘μ„± (λ³ΈμΈ + νƒ€λ¶€μ„ + κ΄€λ¦¬μ²)
  β†“
μ μ μ§‘κ³„ μ—…λ°μ΄νΈ (Supabase RPC)
  - department_scores: q*_sum += score, q*_count += 1
  - management_scores: q*_sum += score, q*_count += 1
  - text_responses: INSERT
  β†“
users.has_completed = true
```

### λ¶„μ„ μ΅°ν
```
κ΄€λ¦¬μ μ ‘μ†
  β†“
λ¶€μ„ μ„ νƒ
  β†“
μ μ κ³„μ‚° (sum / count)
  β†“
μμ„ μ‚°μ¶ (μ „μ²΄ λ¶€μ„ λΉ„κµ)
  β†“
AI λ¶„μ„ μ”μ²­ (OpenAI API)
  β†“
κ²°κ³Ό μ‹κ°ν™” (λ μ΄λ” μ°¨νΈ, ν…μ΄λΈ”, μ›λ“ν΄λΌμ°λ“)
```

---

## π― ν•µμ‹¬ μ°¨λ³„μ 

1. **μµλ…μ„± λ³΄μ¥**: κ°λ³„ μ‘λ‹µ μ¶”μ  μ—†μ΄ μ§‘κ³„λ§ μ €μ¥
2. **ν¨μ¨μ  νƒ€λ¶€μ„ ν‰κ°€ UI**: 1κ° μ§λ¬Έ β†’ 9κ° λ¶€μ„ λ™μ‹ ν‰κ°€ (ν…μ΄λΈ”)
3. **Weighted Sum**: λ³ΈμΈ + νƒ€λ¶€μ„ ν‰κ°€ ν†µν•©ν• μµμΆ… μ μ
4. **AI κΈ°λ° μΈμ‚¬μ΄νΈ**: GPT-4λ΅ κ°κ΄€μ  λ¶„μ„ λ° κ°μ„  μ μ•
5. **μ‹¤μ‹κ°„ μ‹κ°ν™”**: λ μ΄λ” μ°¨νΈ, μ›λ“ν΄λΌμ°λ“λ΅ μ§κ΄€μ  μ΄ν•΄

---

## π“ μ°Έκ³  μλ£

- μ„¤λ¬Έ λ¬Έν•­ μ›λ³Έ: `μ„¤λ¬Έμ΅°μ‚¬_ν†µν•©λ³Έ.xlsx`
- Next.js κ³µμ‹ λ¬Έμ„: https://nextjs.org/docs
- Supabase κ³µμ‹ λ¬Έμ„: https://supabase.com/docs
- Recharts κ³µμ‹ λ¬Έμ„: https://recharts.org
