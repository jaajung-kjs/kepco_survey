# μ „λ ¥κ΄€λ¦¬μ² μ„¤λ¬Έμ΅°μ‚¬ μ‹μ¤ν… - νƒμ¤ν¬ λ¦¬μ¤νΈ

**ν”„λ΅μ νΈ μ‹μ‘μΌ**: 2025-10-21
**μμƒ μ™„λ£μΌ**: 2025-10-28

---

## β… Phase 0: λ¬Έμ„ν™” λ° κ³„ν (μ™„λ£)

- [x] SPEC.md μ‘μ„±
- [x] TASKS.md μ‘μ„±

---

## π“¦ Phase 1: κΈ°λ° κµ¬μ¶•

### 1.1 Supabase λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
- [x] users ν…μ΄λΈ” μƒμ„±
- [x] department_scores ν…μ΄λΈ” μƒμ„± (19κ° λ¬Έν•­ + 5κ° νƒ€λ¶€μ„ ν‰κ°€)
- [x] management_scores ν…μ΄λΈ” μƒμ„± (20κ° 5μ μ²™λ„ λ¬Έν•­)
- [x] text_responses ν…μ΄λΈ” μƒμ„±
- [x] survey_questions ν…μ΄λΈ” μƒμ„±
- [x] 10κ° λ¶€μ„ department_scores μ΄κΈ° λ μ½”λ“ μƒμ„±
- [x] management_scores μ΄κΈ° λ μ½”λ“ μƒμ„±

### 1.2 PostgreSQL ν•¨μ μ‘μ„±
- [x] increment_dept_score() ν•¨μ μƒμ„±
- [x] increment_other_score() ν•¨μ μƒμ„±
- [x] increment_management_score() ν•¨μ μƒμ„±

### 1.3 RLS μ •μ±… μ„¤μ •
- [ ] users ν…μ΄λΈ” RLS μ •μ±…
- [ ] department_scores RLS μ •μ±… (κ΄€λ¦¬μλ§ μ½κΈ°)
- [ ] management_scores RLS μ •μ±… (κ΄€λ¦¬μλ§ μ½κΈ°)
- [ ] text_responses RLS μ •μ±… (κ΄€λ¦¬μλ§ μ½κΈ°)

### 1.4 μ„¤λ¬Έ λ¬Έν•­ λ°μ΄ν„° μ‚½μ…
- [x] μ—‘μ…€ νμΌμ—μ„ μ„¤λ¬Έ λ¬Έν•­ μ¶”μ¶
- [x] survey_questions ν…μ΄λΈ”μ— 53κ° λ¬Έν•­ μ‚½μ…

---

## π¨ Phase 2: Next.js ν”„λ΅μ νΈ μ΄κΈ°ν™”

### 2.1 ν”„λ΅μ νΈ μƒμ„±
- [x] Next.js 14 ν”„λ΅μ νΈ μƒμ„± (TypeScript)
- [x] ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ
  - [x] @supabase/supabase-js
  - [x] openai
  - [x] recharts
  - [x] react-wordcloud (--legacy-peer-deps)
  - [x] bcrypt
  - [x] tailwindcss

### 2.2 ν”„λ΅μ νΈ κµ¬μ΅° μ„¤μ •
- [x] ν΄λ” κµ¬μ΅° μƒμ„± (app, components, lib, types)
- [x] Supabase ν΄λΌμ΄μ–ΈνΈ μ„¤μ • (lib/supabase.ts)
- [x] μƒμ μ •μ (lib/constants.ts)
- [x] TypeScript νƒ€μ… μ •μ (types/index.ts)

### 2.3 ν™κ²½ λ³€μ μ„¤μ •
- [x] .env.local νμΌ μƒμ„±
- [x] Supabase URL, ANON_KEY μ„¤μ •
- [ ] SERVICE_ROLE_KEY μ„¤μ • (ν•„μ”μ‹)
- [ ] OpenAI API KEY μ„¤μ • (ν•„μ”μ‹)

---

## π” Phase 3: μΈμ¦ μ‹μ¤ν…

### 3.1 λ΅κ·ΈμΈ νμ΄μ§€
- [x] λ΅κ·ΈμΈ UI κµ¬ν„ (app/login/page.tsx)
- [x] λ΅κ·ΈμΈ λ΅μ§ κµ¬ν„ (ID/PW λ°©μ‹, bcrypt ν•΄μ‹±)
- [x] μ—λ¬ ν•Έλ“¤λ§ (μλ»λ μΈμ¦ μ •λ³΄)
- [x] λ΅κ·Έμ•„μ›ƒ API κµ¬ν„

### 3.2 μΈμ¦ λ―Έλ“¤μ›¨μ–΄
- [x] λ΅κ·ΈμΈ μƒνƒ ν™•μΈ λ―Έλ“¤μ›¨μ–΄ (middleware.ts)
- [x] κ΄€λ¦¬μ κ¶ν• ν™•μΈ λ΅μ§ (lib/auth.ts)
- [x] μ¤‘λ³µ μ μ¶ λ°©μ§€ (has_completed ν™•μΈ)
- [x] μ‚¬μ©μ κ³„μ • μƒμ„± μ¤ν¬λ¦½νΈ (scripts/create-users.ts)

---

## π“ Phase 4: μ„¤λ¬Έ μ‹μ¤ν…

### 4.1 λ¶€μ„/μ§κΈ‰ μ„ νƒ
- [x] μ„ νƒ UI κµ¬ν„ (components/DepartmentPositionSelect.tsx)
- [x] 10κ° λ¶€μ„ λ“λ΅­λ‹¤μ΄ (μμ„ κ³ μ •)
- [x] μ§κΈ‰ μ„ νƒ λΌλ””μ¤ λ²„νΌ (κ°„λ¶€/μ§μ›)
- [x] μ ν¨μ„± κ²€μ¦

### 4.2 λ³ΈμΈ μ†μ† μ΅°μ§ μ„¤λ¬Έ (Q2~Q20)
- [x] μ„¤λ¬Έ νΌ μ»΄ν¬λ„νΈ (components/SurveyForm, OwnDeptSurvey)
- [x] 5μ μ²™λ„ μ§λ¬Έ λ λ”λ§ (19κ°, ScaleQuestion μ»΄ν¬λ„νΈ)
- [x] μ§„ν–‰λ¥  ν‘μ‹ (μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ)
- [x] ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™” (μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
- [x] μ ν¨μ„± κ²€μ¦ (λ¨λ“  λ¬Έν•­ ν•„μ)
- [x] API μ—”λ“ν¬μΈνΈ (/api/survey/questions)
- [ ] μ„μ‹μ €μ¥ κΈ°λ¥ (λ΅μ»¬ μ¤ν† λ¦¬μ§€) - μ¶”ν›„ κµ¬ν„

### 4.3 νƒ€λ¶€μ„ ν‰κ°€ (κ°„λ¶€λ§, 5λ¬Έν•­ Γ— 9λ¶€μ„)
- [x] ν…μ΄λΈ” UI μ»΄ν¬λ„νΈ (components/OtherDeptEvaluation)
- [x] 5κ° λ¬Έν•­ λ λ”λ§
- [x] κ° λ¬Έν•­λ‹Ή 9κ° λ¶€μ„ ν‰κ°€ ν…μ΄λΈ”
- [x] ν•„μ μ…λ ¥ κ²€μ¦ (λ¨λ“  μ…€ μ±„μ›μ§ ν™•μΈ)
- [x] μ§„ν–‰λ¥  ν‘μ‹ λ° κ²€μ¦
- [x] ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™”

### 4.4 κ΄€λ¦¬μ² μ „λ° μ„¤λ¬Έ (Q26~Q49)
- [x] TextQuestion μ»΄ν¬λ„νΈ κµ¬ν„ (components/TextQuestion.tsx)
- [x] ManagementSurvey μ»΄ν¬λ„νΈ κµ¬ν„ (components/ManagementSurvey.tsx)
- [x] 5μ μ²™λ„ λ¬Έν•­ (22κ°, Q26-Q49 μ¤‘ Q40/Q45 μ μ™Έ)
- [x] μ„μ ν• λ¬Έν•­ (2κ°, Q40, Q45)
- [x] μ΅°κ±΄λ¶€ λ λ”λ§ (Q39 β‰¤ 2μ μΌ λ•λ§ Q40 ν‘μ‹)
- [x] ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™” (μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
- [x] μ§„ν–‰λ¥  ν‘μ‹ (5μ μ²™λ„ λ¬Έν•­λ§ μΉ΄μ΄νΈ)
- [x] μ ν¨μ„± κ²€μ¦ (5μ μ²™λ„λ§ ν•„μ, μ„μ ν• μ„ νƒ)
- [x] SurveyForm ν†µν•©

### 4.5 μΆ…ν•© μκ²¬ (Q50~Q53)
- [x] OpinionSurvey μ»΄ν¬λ„νΈ κµ¬ν„ (components/OpinionSurvey.tsx)
- [x] μ„μ ν• 4κ° λ¬Έν•­ λ λ”λ§ (Q50-Q53)
- [x] TextQuestion μ»΄ν¬λ„νΈ μ¬μ‚¬μ©
- [x] λ¨λ“  λ¬Έν•­ μ„ νƒμ‚¬ν•­ (required=false)
- [x] μ•λ‚΄ λ¬Έκµ¬ ν‘μ‹ (μ„ νƒμ‚¬ν•­ λ…μ‹)
- [x] SurveyForm ν†µν•© (loadOpinionQuestions, handleOpinionSubmit)
- [x] API μ—”λ“ν¬μΈνΈ μ΄λ―Έ μ§€μ› (type=opinion)

### 4.6 μ μ¶ λ΅μ§
- [x] API λΌμ°νΈ μƒμ„± (app/api/survey/submit)
- [x] λ¶€μ„λ³„ μ μ μ—…λ°μ΄νΈ (Supabase RPC νΈμ¶)
- [x] νƒ€λ¶€μ„ μ μ μ—…λ°μ΄νΈ
- [x] κ΄€λ¦¬μ² μ μ μ—…λ°μ΄νΈ
- [x] μ„μ ν• μ‘λ‹µ μ €μ¥
- [x] users.has_completed = true μ—…λ°μ΄νΈ
- [x] μ—λ¬ ν•Έλ“¤λ§
- [x] μ™„λ£ νμ΄μ§€ μƒμ„± (app/survey/completed/page.tsx)
- [x] End-to-end ν…μ¤νΈ (Playwright)

---

## π“ Phase 5: μ μ κ³„μ‚° μ—”μ§„ β… (100%)

### 5.1 λ¶€μ„λ³„ μ μ κ³„μ‚°
- [x] calculateDepartmentScores() ν•¨μ (lib/scoreCalculator.ts)
- [x] ν‰κ°€μ ν•λ³„ ν‰κ·  κ³„μ‚° (μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
- [x] Weighted Sum κ³„μ‚° (λ³ΈμΈ + νƒ€λ¶€μ„)
- [x] μ°¨μ΄κ°’ κ³„μ‚° (μµμΆ… - λ³ΈμΈ)

### 5.2 μμ„ μ‚°μ¶
- [x] ν‰κ°€μ ν•λ³„ μμ„ κ³„μ‚°
- [x] μ „μ²΄ ν‰κ·  μμ„ κ³„μ‚°
- [x] 10κ° λ¶€μ„ λΉ„κµ λ΅μ§

### 5.3 κ΄€λ¦¬μ² μ μ κ³„μ‚°
- [x] calculateManagementScores() ν•¨μ
- [x] ν‰κ°€μ ν•λ³„ ν‰κ·  (5μ μ²™λ„λ§)
- [x] μ„μ ν• μ‘λ‹µ κ·Έλ£Ήν™”

### 5.4 μ„Έλ¶€ λ¬Έν•­ μ μ
- [x] κ° λ¬Έν•­λ³„ ν‰κ·  κ³„μ‚°
- [x] μ „μ²΄ λ¶€μ„ ν‰κ· κ³Ό λΉ„κµ
- [x] λ¬Έν•­λ³„ μμ„

### 5.5 API μ—”λ“ν¬μΈνΈ
- [x] /api/scores/department (μ „μ²΄ λ° νΉμ • λ¶€μ„)
- [x] /api/scores/management (κ΄€λ¦¬μ² μ μ + μ„μ ν•)

---

## π― Phase 6: κ΄€λ¦¬μ λ€μ‹λ³΄λ“ - μ „μ²΄ ν„ν™©

### 6.1 μ‘λ‹µ ν„ν™© λ€μ‹λ³΄λ“
- [ ] νμ΄μ§€ μƒμ„± (app/admin/dashboard/page.tsx)
- [ ] μ „μ²΄ μ‘λ‹µλ¥  ν‘μ‹
- [ ] λ¶€μ„λ³„ μ‘λ‹µλ¥  ν‘μ‹
- [ ] μ§κΈ‰λ³„ μ‘λ‹µλ¥  ν‘μ‹
- [ ] μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ

### 6.2 λ¶€μ„ ν•„ν„°λ§
- [ ] λ¶€μ„ μ„ νƒ λ“λ΅­λ‹¤μ΄
- [ ] λ¶€μ„λ³„ μƒμ„Έ νμ΄μ§€ λ§ν¬

---

## π“ Phase 7: κ΄€λ¦¬μ λ€μ‹λ³΄λ“ - λ¶€μ„λ³„ λ¶„μ„

### 7.1 λ¶€μ„λ³„ λ¶„μ„ νμ΄μ§€
- [ ] νμ΄μ§€ μƒμ„± (app/admin/department/[id]/page.tsx)
- [ ] URL νλΌλ―Έν„°μ—μ„ λ¶€μ„λ… μ¶”μ¶
- [ ] μ μ λ°μ΄ν„° λ΅λ“

### 7.2 λ μ΄λ” μ°¨νΈ
- [ ] RadarChart μ»΄ν¬λ„νΈ (components/RadarChart)
- [ ] 4κ° ν‰κ°€μ ν• μ‹κ°ν™”
- [ ] Recharts λΌμ΄λΈλ¬λ¦¬ μ„¤μ •

### 7.3 μ μ μƒμ„Έ ν…μ΄λΈ”
- [ ] ν‰κ°€μ ν•λ³„ μ μ ν…μ΄λΈ”
- [ ] λ³ΈμΈ ν‰κ°€ vs μµμΆ… μ μ λΉ„κµ
- [ ] νƒ€λ¶€μ„ ν‰κ°€ λ°μ μ°¨μ΄ ν‘μ‹
- [ ] μμ„ ν‘μ‹

### 7.4 μ„Έλ¶€ λ¬Έν•­ λ¶„μ„
- [ ] λ¬Έν•­λ³„ μ μ ν…μ΄λΈ”
- [ ] μ „μ²΄ ν‰κ· κ³Ό λΉ„κµ
- [ ] λ¬Έν•­λ³„ μμ„

---

## π¤– Phase 8: AI μΆ…ν•©ν‰κ°€ (λ¶€μ„λ³„)

### 8.1 OpenAI API μ—°λ™
- [ ] OpenAI ν΄λΌμ΄μ–ΈνΈ μ„¤μ • (lib/openai.ts)
- [ ] API ν‚¤ κ²€μ¦

### 8.2 Prompt μƒμ„±
- [ ] λ¶€μ„λ³„ λ¶„μ„ Prompt ν…ν”λ¦Ώ
- [ ] ν‰κ°€μ ν•λ³„ μ μ ν¬ν•¨
- [ ] μ„Έλ¶€ λ¬Έν•­ μ μ ν¬ν•¨
- [ ] νƒ€λ¶€μ„ ν‰κ°€ μ°¨μ΄ ν¬ν•¨

### 8.3 AI λ¶„μ„ μƒμ„±
- [ ] generateDepartmentAIAnalysis() ν•¨μ
- [ ] GPT-4 API νΈμ¶
- [ ] μ‘λ‹µ νμ‹± λ° ν¬λ§·ν…
- [ ] μ—λ¬ ν•Έλ“¤λ§

### 8.4 AI λ¶„μ„ UI
- [ ] AIAnalysis μ»΄ν¬λ„νΈ
- [ ] λ§ν¬λ‹¤μ΄ λ λ”λ§
- [ ] λ΅λ”© μƒνƒ ν‘μ‹

---

## πΆ Phase 9: κ΄€λ¦¬μ λ€μ‹λ³΄λ“ - κ΄€λ¦¬μ² λ¶„μ„

### 9.1 κ΄€λ¦¬μ² λ¶„μ„ νμ΄μ§€
- [ ] νμ΄μ§€ μƒμ„± (app/admin/management/page.tsx)
- [ ] κ΄€λ¦¬μ² μ μ λ°μ΄ν„° λ΅λ“

### 9.2 λ μ΄λ” μ°¨νΈ
- [ ] 4κ° ν‰κ°€μ ν• μ‹κ°ν™” (5μ μ²™λ„λ§)

### 9.3 μ„μ ν• μ‘λ‹µ μ›λ“ν΄λΌμ°λ“
- [ ] WordCloud μ»΄ν¬λ„νΈ (components/WordCloud)
- [ ] ν•κΈ€ ν•νƒμ† λ¶„μ„
- [ ] λ¶μ©μ–΄ μ κ±°
- [ ] 6κ° μ„μ ν• λ¬Έν•­λ³„ μ›λ“ν΄λΌμ°λ“ μƒμ„±
- [ ] react-wordcloud λΌμ΄λΈλ¬λ¦¬ μ„¤μ •

### 9.4 AI λ¶„μ„ (κ΄€λ¦¬μ²)
- [ ] generateManagementAIAnalysis() ν•¨μ
- [ ] Prompt μƒμ„± (5μ μ²™λ„ λ¬Έν•­λ§)
- [ ] AI λ¶„μ„ UI

---

## π“ Phase 10: κ΄€λ¦¬μ λ€μ‹λ³΄λ“ - μ „μ²΄ μμ„

### 10.1 μ „μ²΄ μμ„ νμ΄μ§€
- [ ] νμ΄μ§€ μƒμ„± (app/admin/ranking/page.tsx)
- [ ] λ¶€μ„λ³„ μΆ…ν•© μμ„ λ°μ΄ν„° λ΅λ“

### 10.2 μΆ…ν•© μμ„ μ°¨νΈ
- [ ] λ°” μ°¨νΈλ΅ 10κ° λ¶€μ„ μμ„ ν‘μ‹
- [ ] ν‰κ·  μ μ ν‘μ‹

### 10.3 ν‰κ°€μ ν•λ³„ μμ„ μ°¨νΈ
- [ ] μ΅°μ§λ¬Έν™” μμ„ μ°¨νΈ
- [ ] μ—…λ¬΄μ¶©μ‹¤ μμ„ μ°¨νΈ
- [ ] μ—…λ¬΄ν‘μ΅° μμ„ μ°¨νΈ
- [ ] μ—…λ¬΄νμ‹  μμ„ μ°¨νΈ

---

## π¨ Phase 11: UI/UX κ°μ„ 

### 11.1 λ°μ‘ν• λ””μμΈ
- [ ] λ¨λ°”μΌ λ μ΄μ•„μ›ƒ
- [ ] νƒλΈ”λ¦Ώ λ μ΄μ•„μ›ƒ
- [ ] λ°μ¤ν¬ν†± λ μ΄μ•„μ›ƒ

### 11.2 μ¤νƒ€μΌλ§
- [ ] Tailwind CSS μ»¤μ¤ν…€ μ„¤μ •
- [ ] μ»¬λ¬ ν”λ νΈ μ •μ
- [ ] λ²„νΌ, μ…λ ¥ ν•„λ“ μ¤νƒ€μΌ

### 11.3 λ΅λ”© μƒνƒ
- [ ] Suspense κ²½κ³„ μ„¤μ •
- [ ] μ¤μΌλ ν†¤ UI
- [ ] λ΅λ”© μ¤ν”Όλ„

### 11.4 μ—λ¬ μ²λ¦¬
- [ ] μ—λ¬ λ°”μ΄λ”λ¦¬
- [ ] μ—λ¬ λ©”μ‹μ§€ UI
- [ ] μ¬μ‹λ„ λ²„νΌ

---

## π§ Phase 12: ν…μ¤νΈ

### 12.1 ν…μ¤νΈ κ³„μ • μƒμ„±
- [ ] μΌλ° μ‚¬μ©μ 10κ° (λ¶€μ„λ³„ 1κ°μ”©)
- [ ] κ°„λ¶€ κ³„μ • 5κ°
- [ ] κ΄€λ¦¬μ κ³„μ • 1κ°

### 12.2 κΈ°λ¥ ν…μ¤νΈ
- [ ] λ΅κ·ΈμΈ ν”λ΅μ°
- [ ] μ§μ› μ„¤λ¬Έ μ μ¶
- [ ] κ°„λ¶€ μ„¤λ¬Έ μ μ¶ (νƒ€λ¶€μ„ ν‰κ°€ ν¬ν•¨)
- [ ] μ¤‘λ³µ μ μ¶ λ°©μ§€ ν™•μΈ
- [ ] μ μ κ³„μ‚° κ²€μ¦
- [ ] μμ„ κ³„μ‚° κ²€μ¦

### 12.3 κ΄€λ¦¬μ κΈ°λ¥ ν…μ¤νΈ
- [ ] μ‘λ‹µ ν„ν™© μ΅°ν
- [ ] λ¶€μ„λ³„ λ¶„μ„ μ΅°ν
- [ ] λ μ΄λ” μ°¨νΈ λ λ”λ§
- [ ] AI λ¶„μ„ μƒμ„±
- [ ] μ›λ“ν΄λΌμ°λ“ μƒμ„±
- [ ] μ „μ²΄ μμ„ μ΅°ν

### 12.4 μ„±λ¥ ν…μ¤νΈ
- [ ] λ€λ‰ λ°μ΄ν„° μ‹λ®¬λ μ΄μ… (100λ… μ‘λ‹µ)
- [ ] μ°¨νΈ λ λ”λ§ μ„±λ¥
- [ ] API μ‘λ‹µ μ‹κ°„

---

## π€ Phase 13: λ°°ν¬

### 13.1 Vercel λ°°ν¬ μ¤€λΉ„
- [ ] next.config.js μ„¤μ •
- [ ] ν™κ²½ λ³€μ Vercelμ— λ“±λ΅
- [ ] λΉλ“ ν…μ¤νΈ

### 13.2 λ°°ν¬
- [ ] Vercel ν”„λ΅μ νΈ μƒμ„±
- [ ] GitHub μ—°λ™
- [ ] μλ™ λ°°ν¬ μ„¤μ •
- [ ] ν”„λ΅λ•μ… URL ν™•μΈ

### 13.3 λ°°ν¬ ν›„ κ²€μ¦
- [ ] ν”„λ΅λ•μ… ν™κ²½ κΈ°λ¥ ν…μ¤νΈ
- [ ] Supabase μ—°κ²° ν™•μΈ
- [ ] OpenAI API νΈμ¶ ν™•μΈ

---

## π“ Phase 14: λ¬Έμ„ν™” λ° μΈμμΈκ³„

### 14.1 μ‚¬μ©μ λ§¤λ‰΄μ–Ό
- [ ] μΌλ° μ‚¬μ©μ κ°€μ΄λ“ μ‘μ„±
- [ ] κ΄€λ¦¬μ κ°€μ΄λ“ μ‘μ„±

### 14.2 κΈ°μ  λ¬Έμ„
- [ ] API λ¬Έμ„
- [ ] λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ¬Έμ„
- [ ] λ°°ν¬ κ°€μ΄λ“

### 14.3 μ½”λ“ μ •λ¦¬
- [ ] μ£Όμ„ μ •λ¦¬
- [ ] λ¶ν•„μ”ν• μ½”λ“ μ κ±°
- [ ] μ½”λ“ ν¬λ§·ν…

---

## π“ μ§„ν–‰ ν„ν™©

**μ „μ²΄ μ§„ν–‰λ¥ **: 86/193 (45%)

**Phaseλ³„ μ§„ν–‰λ¥ **:
- Phase 0: 100% β…
- Phase 1: 80% (RLS μ •μ±… μ μ™Έ μ™„λ£)
- Phase 2: 100% β…
- Phase 3: 100% β…
- Phase 4: 100% β… (μ„¤λ¬Έ μ‹μ¤ν… μ™„λ£)
- Phase 5: 100% β… (μ μ κ³„μ‚° μ—”μ§„ μ™„λ£)
- Phase 6: 0%
- Phase 7: 0%
- Phase 8: 0%
- Phase 9: 0%
- Phase 10: 0%
- Phase 11: 0%
- Phase 12: 0%
- Phase 13: 0%
- Phase 14: 0%

---

## π”„ μ—…λ°μ΄νΈ λ΅κ·Έ

**2025-10-21 17:00**: ν”„λ΅μ νΈ μ‹μ‘, λ¬Έμ„ μ‘μ„± μ™„λ£
**2025-10-21 17:10**: Phase 1 Supabase λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ¶• μ™„λ£ (13/100 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£)
- users, department_scores, management_scores, text_responses, survey_questions ν…μ΄λΈ” μƒμ„±
- 10κ° λ¶€μ„ μ΄κΈ° λ μ½”λ“ μƒμ„±
- PostgreSQL ν•¨μ 3κ° μƒμ„± (increment_dept_score, increment_other_score, increment_management_score)
- 53κ° μ„¤λ¬Έ λ¬Έν•­ μ‚½μ… μ™„λ£

**2025-10-21 17:30**: Phase 2 Next.js ν”„λ΅μ νΈ μ΄κΈ°ν™” μ™„λ£ (23/100 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£)
- Next.js 14 ν”„λ΅μ νΈ μƒμ„± (survey-app/)
- ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ (--legacy-peer-depsλ΅ React 19 νΈν™μ„± ν•΄κ²°)
- ν”„λ΅μ νΈ κµ¬μ΅° μ„¤μ • (components/, lib/, types/ λ””λ ‰ν† λ¦¬)
- Supabase ν΄λΌμ΄μ–ΈνΈ, μƒμ, TypeScript νƒ€μ… μ •μ μ™„λ£
- ν™κ²½ λ³€μ μ„¤μ • (.env.local μƒμ„±, Supabase URL/ANON_KEY μ„¤μ •)

**2025-10-21 18:00**: Phase 3 μΈμ¦ μ‹μ¤ν… μ™„λ£ (31/100 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£)
- ID/PW λ΅κ·ΈμΈ νμ΄μ§€ κµ¬ν„ (app/login/page.tsx)
- λ΅κ·ΈμΈ/λ΅κ·Έμ•„μ›ƒ API μ—”λ“ν¬μΈνΈ (/api/auth/login, /api/auth/logout)
- bcrypt λΉ„λ°€λ²νΈ ν•΄μ‹± λ° κ²€μ¦
- λ―Έλ“¤μ›¨μ–΄ κΈ°λ° μΈμ¦ ν™•μΈ (middleware.ts)
- μ‚¬μ©μ μΈμ¦ μ ν‹Έλ¦¬ν‹° ν•¨μ (lib/auth.ts)
- μ„¤λ¬Έ μ™„λ£ μ—¬λ¶€ ν™•μΈ λ° λ¦¬λ‹¤μ΄λ ‰νΈ λ΅μ§
- μ‚¬μ©μ κ³„μ • μƒμ„± μ¤ν¬λ¦½νΈ (scripts/create-users.ts)
- Playwright ν…μ¤νΈ μ™„λ£ (λ¨λ“  μ‹λ‚λ¦¬μ¤ ν†µκ³Ό)

**2025-10-21 19:00**: Phase 4 μ„¤λ¬Έ μ‹μ¤ν… λ¶€λ¶„ μ™„λ£ (42/184 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 23%)
- λ¶€μ„/μ§κΈ‰ μ„ νƒ UI (components/DepartmentPositionSelect.tsx)
- λ³ΈμΈ μ†μ† μ΅°μ§ μ„¤λ¬Έ μ»΄ν¬λ„νΈ (components/OwnDeptSurvey.tsx)
- 5μ  μ²™λ„ μ§λ¬Έ μ»΄ν¬λ„νΈ (components/ScaleQuestion.tsx)
- μ„¤λ¬Έ λ¬Έν•­ API μ—”λ“ν¬μΈνΈ (/api/survey/questions)
- μ„¤λ¬Έ λ¬Έν•­ μ΅°ν μ ν‹Έλ¦¬ν‹° (lib/surveyQuestions.ts)
- ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™” λ° μ§„ν–‰λ¥  ν‘μ‹
- μ ν¨μ„± κ²€μ¦ (λ―Έλ‹µλ³€ λ¬Έν•­ ν™•μΈ)
- Playwright ν…μ¤νΈ μ™„λ£ (λ¶€μ„/μ§κΈ‰ μ„ νƒ, λ³ΈμΈ μ†μ† μ΅°μ§ μ„¤λ¬Έ)

**2025-10-21 19:40**: Phase 4.3 νƒ€λ¶€μ„ ν‰κ°€ ν…μ΄λΈ” μ™„λ£ (52/184 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 28%)
- νƒ€λ¶€μ„ ν‰κ°€ ν…μ΄λΈ” UI κµ¬ν„ (components/OtherDeptEvaluation.tsx)
- 5κ° λ¬Έν•­ Γ— 9κ° λ¶€μ„ ν…μ΄λΈ” λ λ”λ§ (λ³ΈμΈ λ¶€μ„ μλ™ μ μ™Έ)
- μ§„ν–‰λ¥  ν‘μ‹ λ° μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ (0~100%)
- μ ν¨μ„± κ²€μ¦ (45κ° μ…€ λ¨λ‘ ν•„μ μ…λ ¥)
- ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™” (μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
- Playwright ν…μ¤νΈ μ™„λ£ (ν…μ΄λΈ” λ λ”λ§, μ§„ν–‰λ¥ , κ²€μ¦, λ„¤λΉ„κ²μ΄μ…)

**2025-10-21 20:30**: Phase 4.4 κ΄€λ¦¬μ² μ „λ° μ„¤λ¬Έ μ™„λ£ (61/184 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 33%)
- TextQuestion μ»΄ν¬λ„νΈ κµ¬ν„ (components/TextQuestion.tsx)
- ManagementSurvey μ»΄ν¬λ„νΈ κµ¬ν„ (components/ManagementSurvey.tsx)
- 5μ μ²™λ„ λ¬Έν•­ 22κ° λ λ”λ§ (Q26-Q49, Q40/Q45 μ μ™Έ)
- μ„μ ν• λ¬Έν•­ 2κ° λ λ”λ§ (Q40, Q45)
- μ΅°κ±΄λ¶€ λ λ”λ§ λ΅μ§ κµ¬ν„ (Q39 λ‹µλ³€ β‰¤ 2μ μΌ λ•λ§ Q40 ν‘μ‹)
- ν‰κ°€μ ν•λ³„ κ·Έλ£Ήν™” (μ΅°μ§λ¬Έν™” 9κ°, μ—…λ¬΄μ¶©μ‹¤ 3κ°, μ—…λ¬΄ν‘μ΅° 6κ°, μ—…λ¬΄νμ‹  4κ°)
- μ§„ν–‰λ¥  ν‘μ‹ (5μ μ²™λ„ λ¬Έν•­λ§ μΉ΄μ΄νΈ, 22κ° μ¤‘ λ‹µλ³€ κ°μ)
- μ΄μ¤‘ μƒνƒ κ΄€λ¦¬ (scaleAnswers, textAnswers λ¶„λ¦¬)
- μ ν¨μ„± κ²€μ¦ (5μ μ²™λ„λ§ ν•„μ, μ„μ ν• μ„ νƒ)
- SurveyFormμ— ν†µν•© (loadManagementQuestions, handleManagementSubmit)
- Playwright ν…μ¤νΈ μ™„λ£ (λ λ”λ§, μ΅°κ±΄λ¶€ Q40, μ§„ν–‰λ¥  100%, ν…μ¤νΈ μ…λ ¥, μ μ¶)

**2025-10-21 21:00**: Phase 4.5 μΆ…ν•© μκ²¬ μ™„λ£ (68/184 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 37%)
- OpinionSurvey μ»΄ν¬λ„νΈ κµ¬ν„ (components/OpinionSurvey.tsx)
- μ„μ ν• 4κ° λ¬Έν•­ λ λ”λ§ (Q50-Q53)
- TextQuestion μ»΄ν¬λ„νΈ μ¬μ‚¬μ©
- λ¨λ“  λ¬Έν•­ μ„ νƒμ‚¬ν•­ μ²λ¦¬ (required=false)
- μ•λ‚΄ λ¬Έκµ¬ ν‘μ‹ ("μ•„λ μ§λ¬Έμ— λ€ν• μκ²¬μ„ μμ λ΅­κ² μ‘μ„±ν•΄μ£Όμ„Έμ”. (μ„ νƒμ‚¬ν•­)")
- SurveyForm ν†µν•© (loadOpinionQuestions, handleOpinionSubmit)
- API μ—”λ“ν¬μΈνΈ μ΄λ―Έ μ§€μ› ν™•μΈ (type=opinion)
- Playwright ν…μ¤νΈ μ™„λ£ (λ λ”λ§, ν…μ¤νΈ μ…λ ¥, μ μ¶, Console λ΅κ·Έ ν™•μΈ)

**2025-10-22 09:30**: Phase 4.6 μ„¤λ¬Έ μ μ¶ API μ™„λ£ (77/184 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 42%)
- μ„¤λ¬Έ μ μ¶ API λΌμ°νΈ κµ¬ν„ (app/api/survey/submit/route.ts)
- λ¶€μ„λ³„ μ μ μ—…λ°μ΄νΈ (Supabase RPC: increment_dept_score)
- νƒ€λ¶€μ„ μ μ μ—…λ°μ΄νΈ (Supabase RPC: increment_other_score)
- κ΄€λ¦¬μ² μ μ μ—…λ°μ΄νΈ (Supabase RPC: increment_management_score)
- μ„μ ν• μ‘λ‹µ μ €μ¥ (text_responses ν…μ΄λΈ”)
- users.has_completed = true μ—…λ°μ΄νΈ
- μ™„λ£ νμ΄μ§€ μƒμ„± (app/survey/completed/page.tsx)
- λ΅κ·Έμ•„μ›ƒ κΈ°λ¥ ν†µν•©
- λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μμ •:
  * management_scores ν…μ΄λΈ”μ— q26_sum/count, q41_sum/count, q42_sum/count μ¶”κ°€
  * μ„μ ν• λ¬Έν•­(q40, q45, q50) μ»¬λΌ μ κ±°
  * increment_management_score ν•¨μ WHERE μ  μ¶”κ°€
- λ²„κ·Έ μμ •:
  * getCurrentUser import μμ •
  * RPC νλΌλ―Έν„°λ… μμ • (dept, question, score)
  * μ§λ¬Έ λ²νΈμ— 'q' prefix μ¶”κ°€
- End-to-end ν…μ¤νΈ μ™„λ£ (Playwright)
  * μ „μ²΄ μ„¤λ¬Έ ν”λ΅μ° (λ¶€μ„μ„ νƒ β†’ λ³ΈμΈμ΅°μ§ β†’ κ΄€λ¦¬μ² β†’ μΆ…ν•©μκ²¬ β†’ μ μ¶ β†’ μ™„λ£νμ΄μ§€)
  * λ°μ΄ν„°λ² μ΄μ¤ μ €μ¥ ν™•μΈ
  * λ¦¬λ‹¤μ΄λ ‰νΈ λ™μ‘ ν™•μΈ
- **Phase 4 μ™„λ£ β…**

**2025-10-22 10:00**: Phase 5 μ μ κ³„μ‚° μ—”μ§„ μ™„λ£ (86/193 μ²΄ν¬λ¦¬μ¤νΈ μ™„λ£, 45%)
- μ μ κ³„μ‚° λ¨λ“ κµ¬ν„ (lib/scoreCalculator.ts)
- λ¶€μ„λ³„ μ μ κ³„μ‚° ν•¨μ (calculateDepartmentScores):
  * ν‰κ°€μ ν•λ³„ ν‰κ·  κ³„μ‚° (μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
  * λ³ΈμΈν‰κ°€ + νƒ€λ¶€μ„ν‰κ°€ κ°€μ¤‘ν•© κ³„μ‚° (Weighted Sum)
  * μ°¨μ΄κ°’ κ³„μ‚° (μµμΆ…μ μ - λ³ΈμΈν‰κ°€)
- μ „μ²΄ λ¶€μ„ μ μ λ° μμ„ κ³„μ‚° (calculateAllDepartmentScores):
  * 10κ° λ¶€μ„ μ „μ²΄ μ μ κ³„μ‚°
  * ν‰κ°€μ ν•λ³„ μμ„ μ‚°μ¶ (1-10μ„)
  * μ „μ²΄ ν‰κ·  μμ„ μ‚°μ¶
- κ΄€λ¦¬μ² μ μ κ³„μ‚° ν•¨μ (calculateManagementScores):
  * ν‰κ°€μ ν•λ³„ 5μ μ²™λ„ ν‰κ·  κ³„μ‚°
  * λ¬Έν•­λ³„ μ„Έλ¶€ μ μ μ €μ¥
- μ„Έλ¶€ λ¬Έν•­ μ μ ν•¨μ (getDepartmentQuestionScores):
  * Q2-Q20 κ° λ¬Έν•­λ³„ ν‰κ·  κ³„μ‚°
  * μ „μ²΄ λ¶€μ„ ν‰κ· κ³Ό λΉ„κµ
- μ„μ ν• μ‘λ‹µ κ·Έλ£Ήν™” ν•¨μ (getTextResponses):
  * λ¬Έν•­λ²νΈλ³„ μ„μ ν• μ‘λ‹µ κ·Έλ£Ήν™”
- API μ—”λ“ν¬μΈνΈ κµ¬ν„:
  * /api/scores/department - μ „μ²΄/νΉμ • λ¶€μ„ μ μ μ΅°ν
  * /api/scores/management - κ΄€λ¦¬μ² μ μ + μ„μ ν• μ‘λ‹µ μ΅°ν
- νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌ μ¤λ¥ μμ •
- **Phase 5 μ™„λ£ β…**

**2025-10-22 11:00**: Phase 5 E2E ν…μ¤νΈ μ™„λ£
- κ°„λ¶€ κ³„μ • ν…μ¤νΈ (μ „μμ μ–΄λ¶€ κ°„λ¶€1, κ³„ν†µμ΄μλ¶€ κ°„λ¶€2)
- κ°€μ¤‘ ν‰κ·  κ³„μ‚° κ²€μ¦:
  * λ³ΈμΈν‰κ°€ (own_dept) + νƒ€λ¶€μ„ν‰κ°€ (other_dept) κ°€μ¤‘ν‰κ· 
  * μ „μμ μ–΄λ¶€: 5.00 λ³ΈμΈ + 5.00 νƒ€λ¶€μ„ = 5.00 μµμΆ… (μ°¨μ΄ 0.00)
  * κ³„ν†µμ΄μλ¶€: 4.00 λ³ΈμΈ + 3.00 νƒ€λ¶€μ„ = 3.75 μµμΆ… (μ°¨μ΄ -0.25)
- ν‰κ°€μ ν•λ³„ κ°€μ¤‘ν‰κ·  κ²€μ¦ (μ΅°μ§λ¬Έν™”, μ—…λ¬΄μ¶©μ‹¤, μ—…λ¬΄ν‘μ΅°, μ—…λ¬΄νμ‹ )
- κ΄€λ¦¬μ² μ μ ν‰κ·  κ²€μ¦ (μ΅°μ§λ¬Έν™” 4.00, μ—…λ¬΄μ¶©μ‹¤ 4.00, μ—…λ¬΄ν‘μ΅° 4.00, μ—…λ¬΄νμ‹  4.00)
- λ΅κ·Έμ•„μ›ƒ κΈ°λ¥ μ¶”κ°€ (components/SurveyCompleted.tsx)
- Playwright ν…μ¤νΈ μ™„λ£ (κ°„λ¶€ μ„¤λ¬Έ ν”λ΅μ°, λ°μ΄ν„°λ² μ΄μ¤ μ μ ν™•μΈ)
- **Phase 5 ν…μ¤νΈ μ™„λ£ β…**
